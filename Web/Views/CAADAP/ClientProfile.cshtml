@model Assmnts.Models.AdapApplicantRpt1
@using UAS.Business;
@{
    Layout = "BaseAppLayoutNoForm.cshtml";
    var applications = Request.Url.PathAndQuery == "/Adap/Report1";
}

@section AddToHead {

    <!-- dataTables -->
    <script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.11/js/dataTables.bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.0.2/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.0.2/js/responsive.bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.11/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.0.2/css/responsive.bootstrap.min.css">
    <script src="~/Content/js/spin.min.js"></script>
    <script src="~/Scripts/jquery.inputmask/inputmask.js"></script>
    <script src="~/Scripts/jquery.inputmask/jquery.inputmask.js"></script>
    <script src="~/Content/js/ssn-candy.js"></script>


    <link href="~/Content/adap/css/ADAPForms.css" rel="stylesheet" />

    <script type="text/javascript">
        spinning = false;
        opts = {
            lines: 13 // The number of lines to draw
            , length: 28 // The length of each line
            , width: 14 // The line thickness
            , radius: 42 // The radius of the inner circle
            , scale: 1 // Scales overall size of the spinner
            , corners: 1 // Corner roundness (0..1)
            , color: '#000' // #rgb or #rrggbb or array of colors
            , opacity: 0.25 // Opacity of the lines
            , rotate: 0 // The rotation offset
            , direction: 1 // 1: clockwise, -1: counterclockwise
            , speed: 1 // Rounds per second
            , trail: 60 // Afterglow percentage
            , fps: 20 // Frames per second when using setTimeout() as a fallback for CSS
            , zIndex: 2e9 // The z-index (defaults to 2000000000)
            , className: 'spinner' // The CSS class to assign to the spinner
            , top: '50%' // Top position relative to parent
            , left: '50%' // Left position relative to parent
            , shadow: false // Whether to render a shadow
            , hwaccel: false // Whether to use hardware acceleration
            , position: 'absolute' // Element positioning
        }
        target = document.getElementById('searchBox');
        spinner = new Spinner(opts).spin(target);

        function doSearch() {
            var searchFName = $('#s_fName').val().trim();
            var searchLName = $('#s_lName').val().trim();
            var searchTeam = $('#UnitId').val();
            var searchStat = $('#d_Status').val();
            var searchDate = $('#d_Date').val();
            var searchDob = $("#d_dob").val();
            var searchSsn = $("#s_ssn").ssnValue();
            var serachAdapId = $("#s_adapid").val();
            var searchSiteNum = $("#s_sitenum").val();
            var serachEnrollment = $("#s_enrollment").val();
            var searchFormType = $("#SearchFormId").val();
            var searchElgEndFrom = $("#d_ElgEndDateFrom").val();
            var searchElgEndTo = $("#d_ElgEndDateTo").val();
            var dt = $('#DTgridReport1').DataTable();

            var reportName = '@Model.ReportName';
            if (reportName.indexOf('Re-Certification') > -1) {
                searchDate = searchDate + ' Re-Certs';
            } else if (reportName.indexOf('Pending') > -1) {
                searchStat = searchStat + ' Pending';
            }

            console.log(searchElgEndTo);

            dt.columns(1).search(searchFName);
            dt.columns(2).search(searchLName);
            dt.columns(3).search(searchTeam);
            dt.columns(4).search(searchStat);
            dt.columns(5).search(searchDate);
            dt.columns(6).search(searchDob);
            dt.columns(7).search(searchSsn);
            dt.columns(8).search(serachAdapId);
            dt.columns(9).search(searchSiteNum);
            dt.columns(10).search(serachEnrollment);
            dt.columns(11).search(searchFormType);
            dt.columns(12).search(searchElgEndFrom);
            dt.columns(13).search(searchElgEndTo).draw();
        }

        function openContact(userId) {
            window.open("/Adap/ContactInfo?userId=" + userId);
        }

        $(document).ready(function () {
            target = document.getElementById('searchBox');
            spinner = new Spinner(opts).spin(target);
            spinning = true;

            $('#ADAPHeader').hide(true);
            $('#ADAPFooter').hide(true);
            $(".form-control").keypress(function (e) {
                if ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {
                    doSearch();
                    return false;
                } else {
                    return true;
                }
            });

            $('#id_Search').click(function () {
                target = document.getElementById('searchBox');
                if (!spinning) {
                    spinner = new Spinner(opts).spin(target);
                }
                spinning = true;
                doSearch();
             });


            $('#peoplePicker').click(function () {
                $("#peoplePickerModal").modal('show');
            });

            filterData = {
                "Team": "@Model.setTeam",
                "Status": "@Model.setStatus",
                "Date": "@Model.setDate",
                "Mine": false
            }

            $("body").on('click', '#DTgridReport1 th', function () {
                target = document.getElementById('searchBox');
                spinner = new Spinner(opts).spin(target);
            });

            $('#DTgridReport1')
                 .on('order.dt', function () {
                    // alert('order');
                     if (spinner) {
                         spinner.stop();
                     }
                     target = document.getElementById('searchBox');
                     if (!spinning) {
                         spinner = new Spinner(opts).spin(target);
                     }
                     spinning = true;
                 })
                 .on('search.dt', function () {
                 })
                 .on('page.dt', function () {
                     target = document.getElementById('searchBox');
                     if (!spinning) {
                         spinner = new Spinner(opts).spin(target);
                     }
                     spinning = true;
                 }).DataTable({
            "bPaginate": true,
            "bFilter": false,
            "bInfo": true,
            "responsive": true,
            "processing": true,
            "serverSide": true,
            "ordering": true,
            "searching": true,
            "ajax": {
                url: "/AdapCa/DataTableApplicationsList",
                data: filterData,
                type: "POST"
            },
            "columnDefs": [
                {
                    "targets": [7],
                    "visible": true,
                },
                {
                    "targets": [13],
                    "visible": false,
                },
                {
                    "targets": [9, 10],
                    "orderable": false,
                }
            ],
            "dom": '<l<t><"row"<"col-md-6"i><"col-md-6"p>>>',
            "drawCallback": function (settings) {
                //center the icons in each of the cells under "Print" column
                $('.glyphicon-print').parent().addClass("text-center");
                if (spinner) {
                    spinner.stop();
                    spinning = false;
                }
            },
            "initComplete": function (settings, json) {
                // alert('init complete');
                if (spinner) {
                    spinner.stop();
                    spinning = false;
                }
            }
        });

            filterData2 = {
                "Team": "@Model.setTeam",
                "Status": "@Model.setStatus",
                "Date": "@Model.setDate",
                "Mine": true
            }
            $('#DTDocument').DataTable({
                "bPaginate": true,
                "bFilter": false,
                "bInfo": true,
                "responsive": true,
                "processing": true,
                "serverSide": true,
                "ordering": true,
                "searching": true,
                "ajax": {
                    url: "/AdapCa/DataTableApplicationsList",
                    data: filterData2,
                    type: "POST"
                },
                "columnDefs": [
                    {
                        "targets": [7],
                        "visible": true,
                    },
                     {
                         "targets": [13],
                         "visible": false,
                     },
                    {
                        "targets": [9, 10],
                        "orderable": false,
                    }
                ],
                "dom": '<l<t><"row"<"col-md-6"i><"col-md-6"p>>>',
                "drawCallback": function (settings) {
                    //center the icons in each of the cells under "Print" column
                    $('.glyphicon-print').parent().addClass("text-center");
                }
            });


            $('#cmmtModal').on('show.bs.modal', function (event) {
                var button = $(event.relatedTarget);
                var userId = button.data('userid');
                // alert('userId: ' + userId);
                var formResultId = button.data('formresultid');
                // alert('formResultId: ' + formResultId);
                var modal = $(this);

                $.ajax({
                    url: "/Adap/AppCmmt?formResultId=" + formResultId,
                    type: 'GET',
                    dataType: 'html',
                    success: function (data) {
                        // alert('data:' + data);
                        modal.find('#cmmts').html(data);
                    },
                    error: function (xhr, ajaxOptions, thrownError) {
                        alert('xhr.status: ' + xhr.status);
                        alert(thrownError);
                    }

                });
            });

            // setup data table
            $('#DTUsers').dataTable({
                "processing": true,
                "serverSide": true,
                "ajax": {
                    url: "/AdapCa/DataTablePeopleList",
                    type: "POST"
                },
                "ordering": false,
                "dom": 'ri<"float"l>ptip',
                "columnDefs": [
                {
                    "targets": [6],
                    "visible": false,
                }]
            });

            $("body").on('click', '.ppCheck', function () {
                var checked = $(this).prop('checked');
                if (checked === true) {
                    var userId = $(this).val();
                    $("#userId").val(userId);
                    var firstName = $(this).parent().siblings("td:eq(0)").text();
                    var lastName = $(this).parent().siblings("td:eq(1)").text();
                    $("#userName").val(firstName + " " + lastName);

                    var id = $(this).attr("id");
                    $(".ppCheck:checked").each(function (index, item) {
                        var itemId = $(item).attr("id");
                        if (itemId != id) {
                            $(item).removeAttr("checked");
                        }
                    });

                    $("#newForm").removeAttr('disabled');
                }
            });

            $("#cancelPicker").click(function () {
                $("#userId").val('');
                $("#userName").val('');
                $("#newForm").attr('disabled', 'disabled');
                $(".ppCheck:checked").removeAttr("checked");
            });

            $("#pp_Search").click(function () {
                var searchFName = $('#pp_fn').val();
                var searchLName = $('#pp_ln').val();
                var searchAdapId = $('#pp_adapId').val();
                var searchDob = $("#pp_dob").val();
                var searchSsn = $("#pp_ssn").ssnValue();
                var searchEsNumber = $("#pp_es").val();

                var dt = $('#DTUsers').DataTable();

                dt.columns(1).search(searchFName);
                dt.columns(2).search(searchLName);
                dt.columns(3).search(searchAdapId);
                dt.columns(4).search(searchDob);
                dt.columns(5).search(searchSsn);
                dt.columns(6).search(searchEsNumber).draw();
            });

            $('#contactsModal').on('show.bs.modal', function (event) {
                var button = $(event.relatedTarget);
                var formResultId = button.data('formresultid');
                var modal = $(this);

                $.ajax({
                    url: "/Adap/ContactInfo?formResultId=" + formResultId,
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {

                        //populate data in contact modal
                        modal.find('#Name').text(data.Name);
                        modal.find('#HomePhone').text(data.HomePhone);
                        modal.find('#CellPhone').text(data.CellPhone);
                        modal.find('#ResidAddress1').text(data.ResidAddress1);
                        modal.find('#ResidAddress2').text(data.ResidAddress2);
                        modal.find('#ResidCitySTZip').text(data.ResidCity + ", " + data.ResidState + " " + data.ResidZip);
                        modal.find('#MailAddress1').text(data.MailAddress1);
                        modal.find('#MailAddress2').text(data.MailAddress2);
                        modal.find('#MailCitySTZip').text(data.MailCity + ", " + data.MailState + " " + data.MailZip);
                        modal.find('#Email').text(data.Email);
                        modal.find('#CaseManager').text(data.CaseManager);
                        modal.find('#Clinic').text(data.Clinic);
                        modal.find('#Team').text(data.Team);
                        modal.find('#Plan').text(data.Plan);
                        modal.find('#Group').text(data.Group);

                        //show "compose message" button if email is present
                        modal.find('#composeMessage')
                            .toggle(!(data.Email === null || data.Email.match(/^ *$/) !== null))
                            .unbind('click')
                            .click(function () {
                                window.open('/LAADAP/RedirectToSecureEmail?recipients=' + data.UserId, '_blank');
                            });
                    }
                });
            });

            var setFormText = function () {
                var formText = $("#FormId option:selected").text();
                $("#formVariant").val(formText);
            }

            $("#FormId").change(function () {
                setFormText();
            });

            setFormText();

            $('#infoModal').on('show.bs.modal', function (event) {
                var button = $(event.relatedTarget);
                var userId = button.data('userId');
                var formResultId = button.data('formresultid');

                var modal = $(this);

                $.ajax({
                    url: "/Adap/MissingInfo?userId=" + userId + "&formResultId=" + formResultId,
                    type: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        // first index contains name.
                        modal.find('#Name').text(data[0]);
                        var result = "<b>";
                        for (var i = 1; i < data.length; i++) {
                            if (i > 1) {
                                result += "<br />";
                            }

                            result += data[i];
                        }
                        result += "</b>";

                        modal.find('#fields').html(result);
                    }
                });
            });
        });
    </script>


    <script type="text/javascript">

        function clientHandoutRedirect(url,id) {
            try {

                $("#formResultId").val(id);

                $("#applicationContext").attr('action', url);
                $("#applicationContext").attr('target', "_blank");
                $("#applicationContext").submit();
            }
            catch (ex) {
                
            }
        }

        function StatusRedirect(url, id) {
            try {

                $("#formResultId").val(id);

                $("#applicationContext").attr('action', url);
                $("#applicationContext").submit();
            }
            catch (ex) {
               
            }
        }

    </script>
}


<form id="applicationContext" method="post">
    <input type="hidden" id="formResultId" name="formResultId" />
</form>



<div class="container">
    @if (!UAS_Business_Functions.hasPermission(PermissionConstants.ASSIGNED, PermissionConstants.ASSMNTS))
    {
        if (applications)
        {
            <h3>Applications</h3>
        }
        else
        {
            <h3>Applications Pending</h3>
        }
    }
    else
    {
        if (UAS_Business_Functions.hasPermission(PermissionConstants.CREATE, PermissionConstants.ASSMNTS))
        {
            <h3>Create a new form</h3>
        }
    }
    @if (UAS_Business_Functions.hasPermission(PermissionConstants.CREATE, PermissionConstants.ASSMNTS))
    {
        <form action="/AdapCa/CreateForm" class="form-horizontal" method="post">
            @Html.Hidden("userId", Assmnts.Infrastructure.SessionHelper.LoginStatus.UserID)
            @Html.Hidden("formVariant")
            <div class="form-group">
                <div class="col-md-4">
                    @Html.DropDownListFor(model => model.FormId, Model.Forms, new { @class = "form-control" })
                </div>
                <div class="col-md-1">
                    <button type="submit" id="newForm" class="pull-right btn btn-primary">New Form</button>
                </div>
            </div>
        </form>
    }

    @if (UAS_Business_Functions.hasPermission(PermissionConstants.ADAP_STAFF, PermissionConstants.REPORTEXP))
    {
        <form action="/AdapCa/CreateForm" class="form-horizontal" method="post">
            <label for="people_picker"><strong> People Picker  </strong>  </label>
            <div class="form-group">
                  <div class="col-md-3">
                   <div class="input-group">
                         @Html.Hidden("formVariant")
                        <input type="text" id="userName" name="userName" class="form-control" placeholder="User" readonly="readonly" />
                        <input type="hidden" id="userId" name="userId" class="form-control" placeholder="User" />
                        <span class="input-group-addon" id="cancelPicker"><span class="glyphicon glyphicon-remove-circle"></span></span>
                        <span class="input-group-addon" id="peoplePicker"><span class="glyphicon glyphicon-user"></span></span>
                    </div>
                </div>
                <div class="col-md-4">
                    @Html.DropDownListFor(model => model.FormId, Model.Forms, new { @class = "form-control" })
                </div>
                <div class="col-md-1">
                    <button type="submit" id="newForm" class="pull-right btn btn-primary" disabled="disabled">New Form</button>
                </div>
            </div>
        </form>
    }

    <hr />

    @if (!UAS_Business_Functions.hasPermission(PermissionConstants.ASSIGNED, PermissionConstants.ASSMNTS))
    {
        <div class="bs-callout bs-callout-primary" style="background-color:#fcf8e3" id="searchBox">
            <h4 style="color:black">Search ADAP @Model.ReportName </h4>
            <br>
            <div>
                <div class="row">
                    <div class="col-md-2">
                        <label for="s_fName">First Name</label>
                        <input type="text" id="s_fName" class="form-control input-md" name="first name" placeholder="First Name">
                    </div>
                    <div class="col-md-2">
                        <label for="s_lName">Last Name</label>
                        <input type="text" id="s_lName" class="form-control input-md" name="last name" placeholder="Last Name">
                    </div>
                    <div class="col-md-2">
                        <label for="d_Team">Unit</label>
                        @Html.DropDownListFor(model => model.UnitId, Model.Units, new { @class = "form-control" })
                    </div>
                    <div class="col-md-2">
                        <label for="d_Status">Status</label>
                        <select id="d_Status" class="form-control" name="d_Status">
                            <option value="" disabled @(Model.StatusDDL != null && Model.StatusDDL.Count > 0 ? String.Empty : "selected")>Status</option>
                            @foreach (string statusText in Model.StatusDDL.OrderBy(kv => kv.Key).Select(kv => kv.Value))
                            {
                                bool selected = !String.IsNullOrEmpty(@Model.setStatus) && @Model.setStatus.Equals(statusText);
                                <option value="@statusText" @(selected ? "selected" : "")>@statusText</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="d_Date">Date</label>
                        <select id="d_Date" class="form-control" name="d_Date">
                            <option value="" disabled @(Model.DateDDL != null && Model.DateDDL.Count > 0 ? String.Empty : "selected")>Dates</option>
                            @foreach (string s in Model.DateDDL)
                            {
                                bool selected = !String.IsNullOrEmpty(@Model.setDate) && @Model.setDate.Equals(@s);
                                <option value="@s" @(selected ? "selected" : "")>@s</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <label for="s_ssn">SSN</label>
                        <input type="text" id="s_ssn" class="form-control input-md ssn-candy-mask" name="s_ssn" placeholder="SSN">
                    </div>
                    <div class="col-md-2">
                        <label for="s_adapid">Client ID</label>
                        <input type="text" id="s_adapid" class="form-control input-md" name="s_adapid" placeholder="Client ID">
                    </div>
                    <div class="col-md-2">
                        <label for="s_sitenum">Site # (Four digits)</label>
                        <input type="text" id="s_sitenum" class="form-control input-md" name="s_sitenum" placeholder="Site #">
                    </div>
                    <div class="col-md-2">
                        <label for="s_enrollment">Enrollment Site</label>
                        <input type="text" id="s_enrollment" class="form-control input-md" name="s_enrollment" placeholder="Enrollment Site">
                    </div>
                    <div class="col-md-3">
                        <label for="d_dob">DOB</label>
                        <div class="input-group date">
                            <input type="text" id="d_dob" class="form-control input-md" name="d_dob" placeholder="mm/dd/yyyy">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="s_formType">Form Type</label>
                        @Html.DropDownListFor(model => model.SearchFormId, Model.SearchForms, new { @class = "form-control", placeholder = "Form Type" })
                    </div>
                    <div class="col-md-3">
                        <label for="d_ElgEndDateFrom">Eligibility End Date From</label>
                        <div class="input-group date">
                            <input type="text" id="d_ElgEndDateFrom" class="form-control input-md" name="d_ElgEndDateFrom" placeholder="mm/dd/yyyy">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label for="d_ElgEndDateTo">Eligibility End Date To</label>
                        <div class="input-group date">
                            <input type="text" id="d_ElgEndDateTo" class="form-control input-md" name="d_ElgEndDateTo" placeholder="mm/dd/yyyy">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3" style="margin-top:15px">
                        <input type="button" id="id_Search" class="btn btn-md btn-success btn-block" value="Search" />
                    </div>
                </div>
            </div>
        </div>
    }

    @if (Model.errorMessage != null && Model.errorMessage.Trim().Length > 0)
    {
        <div class="alert alert-danger alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="top:-5px;"><span aria-hidden="true">&times;</span></button>
            @Model.errorMessage
        </div>
    }
    @if (!UAS_Business_Functions.hasPermission(PermissionConstants.ASSIGNED, PermissionConstants.ASSMNTS))
    {
        <table id="DTgridReport1" class="table table-striped table-hover table-bordered responsive no-wraps small dataTable no-footer dtr-inline" cellpadding="0" cellspacing="0" border="0">
            <thead>
                <tr>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Member ID: activate to sort column ascending">Client ID</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="First Name: activate to sort column ascending">First Name</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Last Name: activate to sort column ascending">Last Name</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending">Status</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Status Changed: activate to sort column ascending">Status Changed</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Eligiblity end date: activate to sort column ascending">Eligibility End Date</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Next Recert: activate to sort column ascending">Six Month SVF</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Annual Recert: activate to sort column ascending">Annual Re-enrollment</th>
                    <th>Type</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Enrollment Site: activate to sort column ascending">Enrollment Site</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Contact Info: activate to sort column ascending">Contact Info</th>
                    <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="DOB: activate to sort column ascending">DOB</th>
                    <th aria-label="Print">Print</th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>


    }

    <h3>My Forms</h3>

    <table id="DTDocument" class="table table-striped table-hover table-bordered responsive no-wraps small dataTable no-footer dtr-inline" cellpadding="0" cellspacing="0" border="0">
        <thead>
            <tr>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Member ID: activate to sort column ascending">Client ID</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="First Name: activate to sort column ascending">First Name</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Last Name: activate to sort column ascending">Last Name</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending">Status</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Status Changed: activate to sort column ascending">Status Changed</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Eligiblity end date: activate to sort column ascending">Eligibility End Date</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Next Recert: activate to sort column ascending">Six Month SVF</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Annual Recert: activate to sort column ascending">Annual Re-enrollment</th>
                <th>Type</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Enrollment Site: activate to sort column ascending">Enrollment Site</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Contact Info: activate to sort column ascending">Contact Info</th>
                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="DOB: activate to sort column ascending">DOB</th>
                <th aria-label="Print">Print</th>
                <th>&nbsp;</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <!-- Contacts Modal -->
    <div class="modal fade" id="contactsModal" tabindex="-1" role="dialog" aria-labelledby="contactsModalLabel">
        <div class="modal-dialog" role="document" style="width:700px">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #337ab7; color:white;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="contactsModalLabel">Contact Information for <span id="Name"></span></h4>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3">
                                <h5><b>Home Phone</b></h5>
                                <span class="indent" id="HomePhone"></span>
                                <h5><b>Cell Phone</b></h5>
                                <span class="indent" id="CellPhone"></span>
                                <h5><b>Residential Address</b></h5>
                                <span class="indent" id="ResidAddress1"></span><br />
                                <span class="indent" id="ResidAddress2"></span><br />
                                <span class="indent" id="ResidCitySTZip"></span>
                                <h5><b>Maliing Address</b></h5>
                                <span class="indent" id="MailAddress1"></span><br />
                                <span class="indent" id="MailAddress2"></span><br />
                                <span class="indent" id="MailCitySTZip"></span>
                            </div>
                            <div class="col-md-3">
                                <h5><b>Email Address</b></h5>
                                <span class="indent" id="Email"></span>
                                <h5><b>Case Manager</b></h5>
                                <span class="indent" id="CaseManager"></span>
                                <h5><b>Clinic</b></h5>
                                <span class="indent" id="Clinic"></span>
                                <h5><b>ADAP Team</b></h5>
                                <span class="indent" id="Team"></span>
                                @*<h5><b>Plan Type</b></h5>
                                        <span class="indent" id="Plan"></span>
                                    <h5><b>Group #</b></h5>
                                        <span class="ident" id="Group"></span>*@
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" hidden id="composeMessage">Compose Message</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Missing Info Modal -->
    <div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #337ab7; color:white;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="infoModalLabel"><b><span id="Name"></span></b>Missing Info</h4>
                </div>
                <div class="modal-body">
                    <div>
                        <span id="fields">
                        </span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Application Comments -->
    <div class="modal fade" id="cmmtModal" tabindex="-1" role="dialog" aria-labelledby="cmmtModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:850px;">
                <div class="modal-header" style="background-color: #337ab7; color:white;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="cmmtModalLabel"><b><span id="cmmtHdr"></span></b>Comments</h4>
                </div>
                <div class="modal-body" style="height:800px; overflow-y:auto">
                    <div>
                        <span id="cmmts">
                        </span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- People Picker -->
    <div class="modal fade" id="peoplePickerModal" tabindex="-1" role="dialog" aria-labelledby="ppModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width:900px;">
                <div class="modal-header" style="background-color: #337ab7; color:white;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="cmmtModalLabel"><b><span id="cmmtHdr"></span></b>People Picker</h4>
                </div>
                <div class="modal-body" style="height:840px; overflow-y:auto">
                    <div>
                        <div class="row form-group">
                            <div class="col-md-2">
                                <label class="control-label" for="pp_fn">First Name</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="pp_fn" name="pp_fn" maxlength="60">
                            </div>
                            <div class="col-md-2">
                                <label class="control-label" for="pp_ln">Last Name</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="pp_ln" name="pp_ln" maxlength="60">
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-2">
                                <label class="control-label" for="pp_adapId">Client ID</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="pp_adapId" name="pp_adapId" maxlength="60">
                            </div>
                            <div class="col-md-2">
                                <label class="control-label" for="pp_dob">DOB</label>
                            </div>
                            <div class="col-md-3">
                                <div class="input-group date">
                                    <input type="text" id="pp_dob" class="form-control input-md" name="pp_dob" />
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-md-2">
                                <label class="control-label" for="pp_ssn">SSN</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control ssn-candy-mask" id="pp_ssn" name="pp_ssn" maxlength="60">
                            </div>
                            <div class="col-md-2">
                                <label class="control-label" for="pp_es">ES #</label>
                            </div>
                            <div class="col-md-3">
                                <input type="text" class="form-control" id="pp_es" name="pp_es" maxlength="60">
                            </div>
                        </div>

                        <div class="row form-group">
                            <div class="col-md-4">
                                <input type="button" id="pp_Search" class="btn btn-md btn-primary btn-block" value="Search">
                            </div>
                        </div>
                    </div>
                    <table id="DTUsers" class="table table-striped table-hover table-bordered responsive no-wraps small dataTable no-footer dtr-inline" cellpadding="0" cellspacing="0" border="0">
                        <thead>
                            <tr>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="User ID: activate to sort column ascending">&nbsp;</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="First Name: activate to sort column ascending">First Name</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Last Name: activate to sort column ascending">Last Name</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="DOB: activate to sort column ascending">DOB</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="Client ID: activate to sort column ascending">Client ID</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="ES: activate to sort column ascending">Enrollment Site</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="SSN: activate to sort column ascending">SSN</th>
                                <th tabindex="0" aria-controls="example" rowspan="1" colspan="1" aria-label="UAS ID: activate to sort column ascending">UAS ID</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>